{% extends "layout.html" %}
{% block title %}Управление товарами{% endblock %}
{% block content %}
  {% include 'navbar.html' %}
  <div class="container mx-auto mt-8 px-4">
    <div class="flex items-center justify-between mb-6">
      <h1 class="text-3xl font-bold text-gray-800">Товары</h1>
      <a href="{{ url_for('add_product') }}" class="bg-green-800 text-white px-4 py-2 rounded hover:bg-green-700 transition-colors duration-300">Добавить товар</a>
    </div>
    <div class="overflow-x-auto">
      <table class="min-w-full bg-white border rounded-lg shadow-md">
        <thead class="bg-green-800 text-white">
          <tr>
            <th class="py-3 px-4 text-left">Название</th>
            <th class="py-3 px-4 text-left">Категория</th>
            <th class="py-3 px-4 text-left">Цена</th>
            <th class="py-3 px-4 text-left">Действия</th>
          </tr>
        </thead>
        <tbody class="text-gray-700">
          {% for product in products %}
          <tr class="border-t hover:bg-green-50 transition-colors duration-200">
            <td class="py-3 px-4">{{ product.name }}</td>
            <td class="py-3 px-4">{{ product.category.name if product.category else 'Не задана' }}</td>
            <td class="py-3 px-4">{{ product.price }}</td>
           <td class="py-3 px-4">
  <a href="{{ url_for('view_product', product_id=product.id) }}" class="text-purple-600 hover:underline">Подробнее</a>
  <a href="{{ url_for('edit_product', product_id=product.id) }}" class="text-blue-500 hover:underline ml-2">Редактировать</a>
  <form action="{{ url_for('delete_product', product_id=product.id) }}" method="post" class="inline-block">
    <button type="submit" class="text-red-500 hover:underline ml-2">Удалить</button>
  </form>
</td>

          {% endfor %}
        </tbody>
      </table>
    </div>
    <a href="{{ url_for('admin_panel') }}" class="inline-block mt-6 bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600 transition-colors duration-300">Назад</a>
  </div>

{% endblock %}
