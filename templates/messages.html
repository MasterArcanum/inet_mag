{% extends "layout.html" %}

{% block title %}Мои сообщения{% endblock %}

{% block content %}
  {% include 'navbar.html' %}
  <div class="container mx-auto mt-8 px-4">
    <h1 class="text-4xl font-bold text-gray-800 mb-6">Мои сообщения</h1>
    {% if messages %}
      <ul class="space-y-4">
        {% for msg in messages %}
          <li class="p-4 rounded shadow {% if msg.answered %}bg-gray-200{% else %}bg-white{% endif %}">
            <div class="flex justify-between items-center">
              <p class="text-lg font-semibold {% if msg.answered %}text-gray-600{% else %}text-gray-800{% endif %}">
                {{ msg.subject or "Без темы" }}
              </p>
              {% if msg.answered %}
                <span class="text-green-600 font-bold">&#10003;</span>
              {% endif %}
            </div>
            <p class="text-gray-700 mt-2">{{ msg.message }}</p>
            <p class="text-sm text-gray-500 mt-2">Отправлено: {{ msg.sent_at.strftime('%d.%m.%Y, %H:%M') }}</p>
          </li>
        {% endfor %}
      </ul>
    {% else %}
      <p class="text-gray-700">У вас пока нет сообщений.</p>
    {% endif %}
  </div>

{% endblock %}
